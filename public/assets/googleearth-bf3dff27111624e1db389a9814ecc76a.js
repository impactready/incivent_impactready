$(function(){function t(t){for(var o=$("#google_map_section-"+t).attr("data-lat").split("%|%"),s=$("#google_map_section-"+t).attr("data-long").split("%|%"),r=$("#google_map_section-"+t).attr("data-name").split("%|%"),i=$("#google_map_section-"+t).attr("data-url").split("%|%"),m=$("#google_map_section-"+t).attr("data-kml"),c=[],d=[],h=new google.maps.LatLngBounds,u=0;u<o.length;u++)c.push(new google.maps.LatLng(parseFloat(o[u]),parseFloat(s[u])));for(var f={center:c[c.length-1],mapTypeId:google.maps.MapTypeId.SATELLITE,zoom:13},_=new google.maps.Map(document.getElementById("google_map_section-"+t),f),u=0;u<c.length;u++){var w=new MarkerWithLabel({position:c[u],map:_,url:i[u],labelContent:r[u],labelAnchor:new google.maps.Point(70,-5),labelClass:"map-label"});a(w),d.push(w),h.extend(c[u])}if(d.length>1&&(_.fitBounds(h),g.push(h),n.push(_)),l.push(d),""!=m){var L=new google.maps.KmlLayer(m,{map:_,preserveViewport:!0});p.push(L)}e(t)}function a(t){google.maps.event.addListener(t,"click",function(){window.location.href=t.url})}function e(a){$('a[href="#group-tabs-'+a+'"]').click(function(){var e=$(this).attr("href");$(e).find("#google_map_section-"+a).length>0&&t(a)})}for(var o=$("#ids-for-earth").attr("data-ids").split(", "),n=[],l=[],g=[],p=[],s=0;s<o.length;s++)t(o[s])});